{% extends 'base.html' %}
{% load static %}

{% block title %}Dashboard - JWT Auth{% endblock %}

{% block content %}
<nav class="navbar">
    <div class="nav-container">
        <h1>Dashboard</h1>
        <div class="nav-links">
            <a href="{% url 'dashboard' %}">Home</a>
            <a href="{% url 'profile' %}">Profile</a>
            <button class="btn btn-logout" id="logout-btn">Logout</button>
        </div>
    </div>
</nav>

<div class="dashboard-container">
    <div class="loading" id="loading">Loading...</div>
    
    <div id="dashboard-content" style="display: none;">
        <div class="welcome-card">
            <h2>Welcome, <span id="user-name"></span>! ðŸ‘‹</h2>
            <p>Your email: <span id="user-email"></span></p>
        </div>

        <div class="dashboard-grid">
            <div class="card">
                <h3>User Information</h3>
                <div id="user-info">
                    <p><strong>ID:</strong> <span id="user-id"></span></p>
                    <p><strong>Username:</strong> <span id="username"></span></p>
                    <p><strong>Email:</strong> <span id="email"></span></p>
                    <p><strong>Name:</strong> <span id="full-name"></span></p>
                    <p><strong>Joined:</strong> <span id="date-joined"></span></p>
                </div>
            </div>

            <div class="card">
                <h3>Protected Data</h3>
                <div id="protected-data">
                    <p>Loading protected data...</p>
                </div>
                <button class="btn btn-primary" id="fetch-protected-btn">
                    Refresh Data
                </button>
            </div>

            <div class="card">
                <h3>Quick Actions</h3>
                <div class="action-buttons">
                    <a href="{% url 'profile' %}" class="btn btn-secondary">Edit Profile</a>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="{% static 'js/auth.js' %}"></script>
<script src="{% static 'js/dashboard.js' %}"></script>
{% endblock %}
